#  MBD（Model-Based Development）学習ポートフォリオ

##  学習目的・目標
私は、**MBD（モデルベース開発）** の補助案件で実務経験を積み、学んだ知識とスキルを活かして  
モデル修正やパラメータ調整、解析補助などの工程で即戦力として貢献することを目指しています。  

将来的には、制御モデルの作成、解析、HILS検証、最適化設計など、設計・開発工程の幅広い領域で活躍できるエンジニアとして成長し、  
長期的なプロジェクトでも安定して成果を出せる技術者になることを志しています。

---

##  使用ツール・ライセンス
- MATLAB Home / Simulink Home
- Control System Toolbox / Simulink Control Design
- ChatGPT（テストケース作成の修正・用語の解説）

---

##  学習履歴（2025年6月〜8月）
- MATLAB Onramp 修了（公式無料講座）
- Simulink Onramp 修了
- PID制御基礎（P/I/Dの役割、調整の考え方）
- 制御系の安定性解析（ボード線図、根軌跡、ステップ応答解析）
- Simulinkモデル作成（アーム系の角度制御）

---

##  成果
## 📂 成果物ディレクトリ構成

- **Portfolio/**
  - **MATLAB/** — MATLABスクリプト（解析・パラメータ計算）
    - `arm_linear_pi_d_design.m` — アームモデルPI-D制御設計スクリプト
    - `arm_para.m` — アーム物理パラメータ定義
    - `arm_trans.m` — アーム伝達関数定義
  - **simulink/** — Simulinkモデル
    - `arm_linear_sim_pi_d_cont.slx` — アームモデルPI-D制御 Simulinkモデル
  - **アームモデル_PI-D制御_結果/** — 検証結果フォルダ
    - **TC-01/** — テストケース01結果
      - `TC-01_1回目/` — 1回目検証結果
      - `TC-01_2回目/` — 2回目検証結果
    - `アームモデル_PI-D制御_テストケース_結果.png` — テストケース結果まとめ画像
  - `アームモデル_PI-D制御_テストケース.xlsx` — テストケース仕様・結果記録シート

---

##  検証結果概要
- **1回目のOK率**：12件中 3件（25%）
- **2回目のOK率**：12件中 12件（100%）

### テストケース例
| No     | 目的 | 条件（パラメータ設定） | 判定基準（許容範囲） |
|--------|------|----------------------|----------------------|
| TC-01  | 目標モデル応答形状確認 | ωm = 10 rad/s, a1 = 1.4 | tr ≈ 0.35 s ± 10%, Mp ≤ 5%, ess ≈ 0 |
| TC-02  | ωmを半分にした場合の影響 | ωm = 5 rad/s, a1 = 1.4 | trが元の約2倍, Mp ≤ 5%以内, 振動増加なし |

---

##  修正内容
1回目の検証では、目標値到達時間やオーバーシュート抑制などで複数のテストケースが不合格。  
改善のため、以下を実施しました。

1. **外乱応答試験の条件見直し**  
   外乱トルク設定値を 0.5 Nm → 0 Nm に変更し、外乱の影響を抑制。
2. **モデルパラメータの再調整**  
   ωm や a1 の値を再設定し、応答速度やオーバーシュートが基準内に収まるようチューニング。
3. **評価用グラフの精度向上**  
   根軌跡の重複表示を修正し、可視化対象を最小限に整理。

結果、全テストケースで基準を満たし、**OK率は20% → 100%** に改善。

---

## 解析モデル
- PID制御モデルブロック図（Simulink）
- ステップ応答解析（tr, Mp, ess 表示付き）
- 根軌跡（ゲイン変化による極の移動）
- 開ループBode（PM=71.9°, GM=∞）
- 感度関数Bode（低周波抑制、高周波感度確認）
- 閉ループBode（閉ループ応答特性の確認）

---